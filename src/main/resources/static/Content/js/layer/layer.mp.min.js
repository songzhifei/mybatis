/**

 @Name£ºlayer v3.0.3 Webµ¯²ã×é¼þ
 @Author£ºÏÍÐÄ
 @Site£ºhttp://layer.layui.com
 @License£ºMIT
    
 */
;!function(n,w){var u=n.layui&&layui.define,h,m,k={getPath:function(){var a=document.scripts,a=a[a.length-1],b=a.src;if(!a.getAttribute("merge"))return b.substring(0,b.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},e={v:"3.0.3",ie:function(){var a=navigator.userAgent.toLowerCase();return n.ActiveXObject||"ActiveXObject"in n?(a.match(/msie\s(\d+)/)||[])[1]||"11":!1}(),index:n.layer&&n.layer.v?
1E5:0,path:k.getPath,config:function(a,b){a=a||{};e.cache=k.config=h.extend({},k.config,a);e.path=k.config.path||e.path;"string"===typeof a.extend&&(a.extend=[a.extend]);k.config.path&&e.ready();if(!a.extend)return this;u?layui.addcss("modules/layer/"+a.extend):e.link("skin/"+a.extend);return this},link:function(a,b,d){if(e.path){var c=h("head")[0],f=document.createElement("link");"string"===typeof b&&(d=b);var g="layuicss-"+(d||a).replace(/\.|\//g,""),l=0;f.rel="stylesheet";f.href=e.path+a;f.id=
g;h("#"+g)[0]||c.appendChild(f);"function"===typeof b&&function v(){if(80<++l)return n.console&&console.error("layer.css: Invalid");1989===parseInt(h("#"+g).css("width"))?b():setTimeout(v,100)}()}},ready:function(a){u?layui.addcss("modules/layer/default/layer.mp.css?v="+e.v+"303",a,"skinlayercss"):e.link("skin/default/layer.mp.css?v="+e.v+"303",a,"skinlayercss");return this},alert:function(a,b,d){var c="function"===typeof b;c&&(d=b);return e.open(h.extend({content:a,yes:d},c?{}:b))},confirm:function(a,
b,d,c){var f="function"===typeof b;f&&(c=d,d=b);return e.open(h.extend({content:a,btn:k.btn,yes:d,btn2:c},f?{}:b))},msg:function(a,b,d){var c="function"===typeof b,f=k.config.skin,q=(f?f+" "+f+"-msg":"")||"layui-layer-msg",f=g.anim.length-1;c&&(d=b);return e.open(h.extend({content:a,time:3E3,shade:!1,skin:q,title:!1,closeBtn:!1,btn:!1,resize:!1,end:d},c&&!k.config.skin?{skin:q+" layui-layer-hui",anim:f}:function(){b=b||{};if(-1===b.icon||void 0===b.icon&&!k.config.skin)b.skin=q+" "+(b.skin||"layui-layer-hui");
return b}()))},load:function(a,b){return e.open(h.extend({type:3,icon:a||0,resize:!1,shade:.01},b))},tips:function(a,b,d){return e.open(h.extend({type:4,content:[a,b],closeBtn:!1,time:3E3,shade:!1,resize:!1,fixed:!1,maxWidth:210},d))}},p=function(a){var b=this;b.index=++e.index;b.config=h.extend({},b.config,k.config,a);document.body?b.creat():setTimeout(function(){b.creat()},30)};p.pt=p.prototype;var g="layui-layer .layui-layer-title .layui-layer-main .layui-layer-dialog layui-layer-iframe layui-layer-content layui-layer-btn layui-layer-close".split(" ");
g.anim="layer-anim layer-anim-01 layer-anim-02 layer-anim-03 layer-anim-04 layer-anim-05 layer-anim-06".split(" ");p.pt.config={type:0,shade:.3,fixed:!0,move:g[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2,btnclass:[]};p.pt.vessel=function(a,b){var d=this.index,c=this.config,f=c.zIndex+d,e="object"===typeof c.title,l=c.maxmin&&(1===c.type||2===c.type),e=c.title?'<div class="layui-layer-title" style="'+
(e?c.title[1]:"")+'">'+(e?c.title[0]:c.title)+"</div>":"";c.zIndex=f;b([c.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+d+'" times="'+d+'" style="'+("z-index:"+(f-1)+"; background-color:"+(c.shade[1]||"#000")+"; opacity:"+(c.shade[0]||c.shade)+"; filter:alpha(opacity="+(100*c.shade[0]||100*c.shade)+");")+'"></div>':"",'<div class="'+g[0]+(" layui-layer-"+k.type[c.type])+(0!=c.type&&2!=c.type||c.shade?"":" layui-layer-border")+" "+(c.skin||"")+'" id="'+g[0]+d+'" type="'+k.type[c.type]+
'" times="'+d+'" showtime="'+c.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+f+"; width:"+c.area[0]+";height:"+c.area[1]+(c.fixed?"":";position:absolute;")+'">'+(a&&2!=c.type?"":e)+'<div id="'+(c.id||"")+'" class="layui-layer-content'+(0==c.type&&-1!==c.icon?" layui-layer-padding":"")+(3==c.type?" layui-layer-loading"+c.icon:"")+'">'+(0==c.type&&-1!==c.icon?'<i class="layui-layer-ico layui-layer-ico'+c.icon+'"></i>':"")+(1==c.type&&a?"":c.content||"")+'</div><span class="layui-layer-setwin">'+
function(){var a=l?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";c.closeBtn&&(a+='<a class="layui-layer-ico '+g[7]+" "+g[7]+(c.title?c.closeBtn:4==c.type?"1":"2")+'" href="javascript:;"></a>');return a}()+"</span>"+(c.btn?function(){var a="";"string"===typeof c.btn&&(c.btn=[c.btn]);for(var b=0,d=c.btn.length;b<d;b++)a+='<a class="'+(c.btnclass.length>b?" "+c.btnclass[b]:"layui-layer-btn-a "+g[6]+""+b)+'">'+
c.btn[b]+"</a>";return'<div class="'+g[6]+" layui-layer-btn-"+(c.btnAlign||"")+'">'+a+"</div>"}():"")+(c.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],e,h('<div class="layui-layer-move"></div>'));return this};p.pt.creat=function(){var a=this,b=a.config,d=a.index,c=b.content,f="object"===typeof c,q=h("body");if(!b.id||!h("#"+b.id)[0]){"string"===typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]);b.shift&&(b.anim=b.shift);6==e.ie&&(b.fixed=!1);switch(b.type){case 0:b.btn=
"btn"in b?b.btn:k.btn[0];e.closeAll("dialog");break;case 2:c=b.content=f?b.content:[b.content||"http://layer.layui.com","auto"];b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+(b.id||g[4]+""+d)+'" name="'+(b.id||g[4]+""+d)+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:delete b.title;delete b.closeBtn;-1===b.icon&&0===b.icon;e.closeAll("loading");break;case 4:f||(b.content=[b.content,
"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',delete b.title,b.tips="object"===typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||e.closeAll("tips")}a.vessel(f,function(e,m,n){q.append(e[0]);f?2==b.type||4==b.type?h("body").append(e[1]):c.parents("."+g[0])[0]||(c.data("display",c.css("display")).show().addClass("layui-layer-wrap").wrap(e[1]),h("#"+g[0]+d).find("."+g[5]).before(m)):q.append(e[1]);h(".layui-layer-move")[0]||q.append(k.moveElem=n);a.layero=h("#"+
g[0]+d);b.scrollbar||g.html.css("overflow","hidden").attr("layer-full",d)}).auto(d);2==b.type&&6==e.ie&&a.layero.find("iframe").attr("src",c[0]);4==b.type?a.tips():a.offset();if(b.fixed)m.on("resize",function(){a.offset();(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(d);4==b.type&&a.tips()});0>=b.time||setTimeout(function(){e.close(a.index)},b.time);a.move().callback();g.anim[b.anim]&&a.layero.addClass(g.anim[b.anim]);b.isOutAnim&&a.layero.data("isOutAnim",!0)}};p.pt.auto=function(a){function b(a){a=
c.find(a);a.height(f[1]-k-l-2*(parseFloat(a.css("padding-top"))|0))}var d=this.config,c=h("#"+g[0]+a);""===d.area[0]&&0<d.maxWidth&&(e.ie&&8>e.ie&&d.btn&&c.width(c.innerWidth()),c.outerWidth()>d.maxWidth&&c.width(d.maxWidth));var f=[c.innerWidth(),c.innerHeight()],k=c.find(g[1]).outerHeight()||0,l=c.find("."+g[6]).outerHeight()||0;switch(d.type){case 2:b("iframe");break;default:""===d.area[1]?d.fixed&&f[1]>=m.height()&&(f[1]=m.height(),b("."+g[5])):b("."+g[5])}return this};p.pt.offset=function(){var a=
this.config,b=this.layero,d=[b.outerWidth(),b.outerHeight()],c="object"===typeof a.offset;this.offsetTop=(m.height()-d[1])/2;this.offsetLeft=(m.width()-d[0])/2;c?(this.offsetTop=a.offset[0],this.offsetLeft=a.offset[1]||this.offsetLeft):"auto"!==a.offset&&("t"===a.offset?this.offsetTop=0:"r"===a.offset?this.offsetLeft=m.width()-d[0]:"b"===a.offset?this.offsetTop=m.height()-d[1]:"l"===a.offset?this.offsetLeft=0:"lt"===a.offset?this.offsetLeft=this.offsetTop=0:"lb"===a.offset?(this.offsetTop=m.height()-
d[1],this.offsetLeft=0):"rt"===a.offset?(this.offsetTop=0,this.offsetLeft=m.width()-d[0]):"rb"===a.offset?(this.offsetTop=m.height()-d[1],this.offsetLeft=m.width()-d[0]):this.offsetTop=a.offset);a.fixed||(this.offsetTop=/%$/.test(this.offsetTop)?m.height()*parseFloat(this.offsetTop)/100:parseFloat(this.offsetTop),this.offsetLeft=/%$/.test(this.offsetLeft)?m.width()*parseFloat(this.offsetLeft)/100:parseFloat(this.offsetLeft),this.offsetTop+=m.scrollTop(),this.offsetLeft+=m.scrollLeft());b.attr("minLeft")&&
(this.offsetTop=m.height()-(b.find(g[1]).outerHeight()||0),this.offsetLeft=b.css("left"));b.css({top:this.offsetTop,left:this.offsetLeft})};p.pt.tips=function(){var a=this.config,b=this.layero,d=[b.outerWidth(),b.outerHeight()],c=h(a.follow);c[0]||(c=h("body"));var f={width:c.outerWidth(),height:c.outerHeight(),top:c.offset().top,left:c.offset().left},e=b.find(".layui-layer-TipsG"),c=a.tips[0];a.tips[1]||e.remove();f.autoLeft=function(){0<f.left+d[0]-m.width()?(f.tipLeft=f.left+f.width-d[0],e.css({right:12,
left:"auto"})):f.tipLeft=f.left};f.where=[function(){f.autoLeft();f.tipTop=f.top-d[1]-10;e.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",a.tips[1])},function(){f.tipLeft=f.left+f.width+10;f.tipTop=f.top;e.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",a.tips[1])},function(){f.autoLeft();f.tipTop=f.top+f.height+10;e.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",a.tips[1])},
function(){f.tipLeft=f.left-d[0]-10;f.tipTop=f.top;e.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",a.tips[1])}];f.where[c-1]();1===c?0>f.top-(m.scrollTop()+d[1]+16)&&f.where[2]():2===c?0<m.width()-(f.left+f.width+d[0]+16)||f.where[3]():3===c?0<f.top-m.scrollTop()+f.height+d[1]+16-m.height()&&f.where[0]():4===c&&0<d[0]+16-f.left&&f.where[1]();b.find("."+g[5]).css({"background-color":a.tips[1],"padding-right":a.closeBtn?"30px":""});b.css({left:f.tipLeft-(a.fixed?
m.scrollLeft():0),top:f.tipTop-(a.fixed?m.scrollTop():0)})};p.pt.move=function(){var a=this,b=a.config,d=h(document),c=a.layero,f=c.find(b.move),g=c.find(".layui-layer-resize"),l={};b.move&&f.css("cursor","move");f.on("mousedown",function(a){a.preventDefault();b.move&&(l.moveStart=!0,l.offset=[a.clientX-parseFloat(c.css("left")),a.clientY-parseFloat(c.css("top"))],k.moveElem.css("cursor","move").show())});g.on("mousedown",function(a){a.preventDefault();l.resizeStart=!0;l.offset=[a.clientX,a.clientY];
l.area=[c.outerWidth(),c.outerHeight()];k.moveElem.css("cursor","se-resize").show()});d.on("mousemove",function(d){if(l.moveStart){var f=d.clientX-l.offset[0],g=d.clientY-l.offset[1],h="fixed"===c.css("position");d.preventDefault();l.stX=h?0:m.scrollLeft();l.stY=h?0:m.scrollTop();if(!b.moveOut){var h=m.width()-c.outerWidth()+l.stX,k=m.height()-c.outerHeight()+l.stY;f<l.stX&&(f=l.stX);f>h&&(f=h);g<l.stY&&(g=l.stY);g>k&&(g=k)}c.css({left:f,top:g})}b.resize&&l.resizeStart&&(f=d.clientX-l.offset[0],g=
d.clientY-l.offset[1],d.preventDefault(),e.style(a.index,{width:l.area[0]+f,height:l.area[1]+g}),l.isResize=!0,b.resizing&&b.resizing(c))}).on("mouseup",function(a){l.moveStart&&(delete l.moveStart,k.moveElem.hide(),b.moveEnd&&b.moveEnd(c));l.resizeStart&&(delete l.resizeStart,k.moveElem.hide())});return a};p.pt.callback=function(){var a=this,b=a.layero,d=a.config;a.openLayer();if(d.success)if(2==d.type)b.find("iframe").on("load",function(){d.success(b,a.index)});else d.success(b,a.index);6==e.ie&&
a.IE6(b);b.find("."+g[6]).children("a").on("click",function(){var c=h(this).index();0===c?d.yes?d.yes(a.index,b):d.btn1?d.btn1(a.index,b):e.close(a.index):!1===(d["btn"+(c+1)]&&d["btn"+(c+1)](a.index,b))||e.close(a.index)});b.find("."+g[7]).on("click",function(){!1===(d.cancel&&d.cancel(a.index,b))||e.close(a.index)});if(d.shadeClose)h("#layui-layer-shade"+a.index).on("click",function(){e.close(a.index)});b.find(".layui-layer-min").on("click",function(){!1===(d.min&&d.min(b))||e.min(a.index,d)});
b.find(".layui-layer-max").on("click",function(){h(this).hasClass("layui-layer-maxmin")?(e.restore(a.index),d.restore&&d.restore(b)):(e.full(a.index,d),setTimeout(function(){d.full&&d.full(b)},100))});d.end&&(k.end[a.index]=d.end)};k.reselect=function(){h.each(h("select"),function(a,b){a=h(this);a.parents("."+g[0])[0]||1==a.attr("layer")&&1>h("."+g[0]).length&&a.removeAttr("layer").show()})};p.pt.IE6=function(a){h("select").each(function(a,d){a=h(this);a.parents("."+g[0])[0]||"none"===a.css("display")||
a.attr({layer:"1"}).hide()})};p.pt.openLayer=function(){e.zIndex=this.config.zIndex;e.setTop=function(a){e.zIndex=parseInt(a[0].style.zIndex);a.on("mousedown",function(){e.zIndex++;a.css("z-index",e.zIndex+1)});return e.zIndex}};k.record=function(a){var b=[a.width(),a.height(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin");a.attr({area:b})};k.rescollbar=function(a){g.html.attr("layer-full")==a&&(g.html[0].style.removeProperty?
g.html[0].style.removeProperty("overflow"):g.html[0].style.removeAttribute("overflow"),g.html.removeAttr("layer-full"))};n.layer=e;e.getChildFrame=function(a,b){b=b||h("."+g[4]).attr("times");return h("#"+g[0]+b).find("iframe").contents().find(a)};e.getFrameIndex=function(a){return h("#"+a).parents("."+g[4]).attr("times")};e.iframeAuto=function(a){if(a){var b=e.getChildFrame("html",a).outerHeight();a=h("#"+g[0]+a);var d=a.find(g[1]).outerHeight()||0,c=a.find("."+g[6]).outerHeight()||0;a.css({height:b+
d+c});a.find("iframe").css({height:b})}};e.iframeSrc=function(a,b){h("#"+g[0]+a).find("iframe").attr("src",b)};e.style=function(a,b,d){a=h("#"+g[0]+a);var c=a.find(".layui-layer-content"),f=a.attr("type"),e=a.find(g[1]).outerHeight()||0,l=a.find("."+g[6]).outerHeight()||0;a.attr("minLeft");f!==k.type[3]&&f!==k.type[4]&&(d||(260>=parseFloat(b.width)&&(b.width=260),64>=parseFloat(b.height)-e-l&&(b.height=64+e+l)),a.css(b),l=a.find("."+g[6]).outerHeight(),f===k.type[2]?a.find("iframe").css({height:parseFloat(b.height)-
e-l}):c.css({height:parseFloat(b.height)-e-l-parseFloat(c.css("padding-top"))-parseFloat(c.css("padding-bottom"))}))};e.min=function(a,b){b=h("#"+g[0]+a);var d=b.find(g[1]).outerHeight()||0,c=b.attr("minLeft")||181*k.minIndex+"px",f=b.css("position");k.record(b);k.minLeft[0]&&(c=k.minLeft[0],k.minLeft.shift());b.attr("position",f);e.style(a,{width:180,height:d,left:c,top:m.height()-d,position:"fixed",overflow:"hidden"},!0);b.find(".layui-layer-min").hide();"page"===b.attr("type")&&b.find(g[4]).hide();
k.rescollbar(a);b.attr("minLeft")||k.minIndex++;b.attr("minLeft",c)};e.restore=function(a){var b=h("#"+g[0]+a),d=b.attr("area").split(",");b.attr("type");e.style(a,{width:parseFloat(d[0]),height:parseFloat(d[1]),top:parseFloat(d[2]),left:parseFloat(d[3]),position:b.attr("position"),overflow:"visible"},!0);b.find(".layui-layer-max").removeClass("layui-layer-maxmin");b.find(".layui-layer-min").show();"page"===b.attr("type")&&b.find(g[4]).show();k.rescollbar(a)};e.full=function(a){var b=h("#"+g[0]+a),
d;k.record(b);g.html.attr("layer-full")||g.html.css("overflow","hidden").attr("layer-full",a);clearTimeout(d);d=setTimeout(function(){var c="fixed"===b.css("position");e.style(a,{top:c?0:m.scrollTop(),left:c?0:m.scrollLeft(),width:m.width(),height:m.height()},!0);b.find(".layui-layer-min").hide()},100)};e.title=function(a,b){h("#"+g[0]+(b||e.index)).find(g[1]).html(a)};e.close=function(a){var b=h("#"+g[0]+a),d=b.attr("type");if(b[0]){var c=function(){if(d===k.type[1]&&"object"===b.attr("conType")){b.children(":not(."+
g[5]+")").remove();for(var c=b.find(".layui-layer-wrap"),e=0;2>e;e++)c.unwrap();c.css("display",c.data("display")).removeClass("layui-layer-wrap")}else{if(d===k.type[2])try{c=h("#"+g[4]+a)[0],c.contentWindow.document.write(""),c.contentWindow.close(),b.find("."+g[5])[0].removeChild(c)}catch(l){}b[0].innerHTML="";b.remove()}"function"===typeof k.end[a]&&k.end[a]();delete k.end[a]};b.data("isOutAnim")&&b.addClass("layer-anim-close");h("#layui-layer-moves, #layui-layer-shade"+a).remove();6==e.ie&&k.reselect();
k.rescollbar(a);b.attr("minLeft")&&(k.minIndex--,k.minLeft.push(b.attr("minLeft")));e.ie&&10>e.ie||!b.data("isOutAnim")?c():setTimeout(function(){c()},200)}};e.closeAll=function(a){h.each(h("."+g[0]),function(){var b=h(this);(a?b.attr("type")===a:1)&&e.close(b.attr("times"))})};var r=e.cache||{},t=function(a){return r.skin?" "+r.skin+" "+r.skin+"-"+a:""};e.prompt=function(a,b){var d="";a=a||{};"function"===typeof a&&(b=a);a.area&&(d=a.area,d='style="width: '+d[0]+"; height: "+d[1]+';"',delete a.area);
var c,d=2==a.formType?'<textarea class="layui-layer-input"'+d+">"+(a.value||"")+"</textarea>":'<input type="'+(1==a.formType?"password":"text")+'" class="layui-layer-input" value="'+(a.value||"")+'">',f=a.success;delete a.success;return e.open(h.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:d,skin:"layui-layer-prompt"+t("prompt"),maxWidth:m.width(),success:function(a){c=a.find(".layui-layer-input");c.focus();"function"===typeof f&&f(a)},resize:!1,yes:function(d){var f=c.val();
""===f?c.focus():f.length>(a.maxlength||500)?e.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(a.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",c,{tips:1}):b&&b(f,d,c)}},a))};e.tab=function(a){a=a||{};var b=a.tab||{},d=a.success;delete a.success;return e.open(h.extend({type:1,skin:"layui-layer-tab"+t("tab"),resize:!1,title:function(){var a=b.length,d=1,e="";if(0<a)for(e='<span class="layui-layer-tabnow">'+b[0].title+"</span>";d<a;d++)e+="<span>"+b[d].title+"</span>";return e}(),content:'<ul class="layui-layer-tabmain">'+
function(){var a=b.length,d=1,e="";if(0<a)for(e='<li class="layui-layer-tabli xubox_tab_layer">'+(b[0].content||"no content")+"</li>";d<a;d++)e+='<li class="layui-layer-tabli">'+(b[d].content||"no  content")+"</li>";return e}()+"</ul>",success:function(b){var c=b.find(".layui-layer-title").children(),e=b.find(".layui-layer-tabmain").children();c.on("mousedown",function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;b=h(this);var c=b.index();b.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow");
e.eq(c).show().siblings().hide();"function"===typeof a.change&&a.change(c)});"function"===typeof d&&d(b)}},a))};e.photos=function(a,b,d){var c={};a=a||{};if(a.photos){var f=a.photos.constructor===Object,g=f?a.photos:{},l=g.data||[],k=g.start||0;c.imgIndex=(k|0)+1;a.img=a.img||"img";var m=a.success;delete a.success;if(!f){var p=h(a.photos),r=function(){l=[];p.find(a.img).each(function(a){var b=h(this);b.attr("layer-index",a);l.push({alt:b.attr("alt"),pid:b.attr("layer-pid"),src:b.attr("layer-src")||
b.attr("src"),thumb:b.attr("src")})})};r();if(0===l.length)return;b||p.on("click",a.img,function(){var b=h(this).attr("layer-index");e.photos(h.extend(a,{photos:{start:b,data:l,tab:a.tab},full:a.full}),!0);r()});if(!b)return}else if(0===l.length)return e.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;");c.imgprev=function(a){c.imgIndex--;1>c.imgIndex&&(c.imgIndex=l.length);c.tabimg(a)};c.imgnext=function(a,b){c.imgIndex++;if(c.imgIndex>l.length&&(c.imgIndex=1,b))return;c.tabimg(a)};c.keyup=function(a){if(!c.end){var b=
a.keyCode;a.preventDefault();37===b?c.imgprev(!0):39===b?c.imgnext(!0):27===b&&e.close(c.index)}};c.tabimg=function(b){if(!(1>=l.length))return g.start=c.imgIndex-1,e.close(c.index),e.photos(a,!0,b)};c.event=function(){c.bigimg.hover(function(){c.imgsee.show()},function(){c.imgsee.hide()});c.bigimg.find(".layui-layer-imgprev").on("click",function(a){a.preventDefault();c.imgprev()});c.bigimg.find(".layui-layer-imgnext").on("click",function(a){a.preventDefault();c.imgnext()});h(document).on("keyup",
c.keyup)};c.loadi=e.load(1,{shade:"shade"in a?!1:.9,scrollbar:!1});(function(a,b,c){var d=new Image;d.src=a;if(d.complete)return b(d);d.onload=function(){d.onload=null;b(d)};d.onerror=function(a){d.onerror=null;c(a)}})(l[k].src,function(b){e.close(c.loadi);c.index=e.open(h.extend({type:1,id:"layui-layer-photos",area:function(){var c=[b.width,b.height],d=[h(n).width()-100,h(n).height()-100];!a.full&&(c[0]>d[0]||c[1]>d[1])&&(d=[c[0]/d[0],c[1]/d[1]],d[0]>d[1]?(c[0]/=d[0],c[1]/=d[0]):d[0]<d[1]&&(c[0]/=
d[1],c[1]/=d[1]));return[c[0]+"px",c[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+t("photos"),content:'<div class="layui-layer-phimg"><img src="'+l[k].src+'" alt="'+(l[k].alt||"")+'" layer-pid="'+l[k].pid+'"><div class="layui-layer-imgsee">'+(1<l.length?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':
"")+'<div class="layui-layer-imgbar" style="display:'+(d?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(l[k].alt||"")+"</a><em>"+c.imgIndex+"/"+l.length+"</em></span></div></div></div>",success:function(b,d){c.bigimg=b.find(".layui-layer-phimg");c.imgsee=b.find(".layui-layer-imguide,.layui-layer-imgbar");c.event(b);a.tab&&a.tab(l[k],b);"function"===typeof m&&m(b)},end:function(){c.end=!0;h(document).off("keyup",c.keyup)}},a))},function(){e.close(c.loadi);e.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",
{time:3E4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){1<l.length&&c.imgnext(!0,!0)}})})}};k.run=function(a){h=a;m=h(n);g.html=h("html");e.open=function(a){return(new p(a)).index}};n.layui&&layui.define?(e.ready(),layui.define("jquery",function(a){e.path=layui.cache.dir;k.run(layui.jquery);n.layer=e;a("layer",e)})):"function"===typeof define&&define.amd?define(["jquery"],function(){k.run(n.jQuery);return e}):(k.run(n.jQuery),e.ready())}(window);